<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<link rel="stylesheet" type="text/css" href="../../../style.css"/><script src="../../../highlight.pack.js"></script>
<title>header</title>
<base href="../../../"/>
<script src="search.js"></script>
<script src="show_hide.js"></script>
</head>
<body>
<div class="main">
<div class="toc">
<ul>
<li>
<span class="package" onclick="show_hide('des');">
des
</span>
<ul id=des style='display:block;'>
<li>
<span class="package" onclick="show_hide('des.flow');">
<small>des.</small><a href="des/flow.html">flow</a>
</span>
<ul id=des.flow>
<li>
<small>des.flow.</small><a href="des/flow/base.html">base</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/element.html">element</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/event.html">event</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/signal.html">signal</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/sync.html">sync</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/sysevdata.html">sysevdata</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/thread.html">thread</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.il');">
<small>des.</small><a href="des/il.html">il</a>
</span>
<ul id=des.il style='display:block;'>
<li>
<small>des.il.</small><a href="des/il/func.html">func</a>
</li>
<li>
<span class="selected" onclick="show_hide('des.il.image');">
<small>des.il.</small><a href="des/il/image.html">image</a>
</li>
<li>
<small>des.il.</small><a href="des/il/region.html">region</a>
</li>
<li>
<small>des.il.</small><a href="des/il/util.html">util</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.isys');">
des.isys
</span>
<ul id=des.isys>
<li>
<span class="package" onclick="show_hide('des.isys.neiro');">
<small>des.isys.</small><a href="des/isys/neiro.html">neiro</a>
</span>
<ul id=des.isys.neiro>
<li>
<small>des.isys.neiro.</small><a href="des/isys/neiro/func.html">func</a>
</li>
<li>
<span class="package" onclick="show_hide('des.isys.neiro.layer');">
<small>des.isys.neiro.</small><a href="des/isys/neiro/layer.html">layer</a>
</span>
<ul id=des.isys.neiro.layer>
<li>
<small>des.isys.neiro.layer.</small><a href="des/isys/neiro/layer/neiron.html">neiron</a>
</li>
<li>
<small>des.isys.neiro.layer.</small><a href="des/isys/neiro/layer/net.html">net</a>
</li>
<li>
<small>des.isys.neiro.layer.</small><a href="des/isys/neiro/layer/rand.html">rand</a>
</li>
<li>
<small>des.isys.neiro.layer.</small><a href="des/isys/neiro/layer/structure.html">structure</a>
</li>
</ul>
</li>
<li>
<small>des.isys.neiro.</small><a href="des/isys/neiro/neiron.html">neiron</a>
</li>
<li>
<small>des.isys.neiro.</small><a href="des/isys/neiro/traits.html">traits</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math');">
<small>des.</small><a href="des/math.html">math</a>
</span>
<ul id=des.math>
<li>
<span class="package" onclick="show_hide('des.math.basic');">
<small>des.math.</small><a href="des/math/basic.html">basic</a>
</span>
<ul id=des.math.basic>
<li>
<small>des.math.basic.</small><a href="des/math/basic/mathstruct.html">mathstruct</a>
</li>
<li>
<small>des.math.basic.</small><a href="des/math/basic/traits.html">traits</a>
</li>
</ul>
</li>
<li>
<small>des.math.</small><a href="des/math/combin.html">combin</a>
</li>
<li>
<span class="package" onclick="show_hide('des.math.linear');">
<small>des.math.</small><a href="des/math/linear.html">linear</a>
</span>
<ul id=des.math.linear>
<li>
<small>des.math.linear.</small><a href="des/math/linear/matrix.html">matrix</a>
</li>
<li>
<small>des.math.linear.</small><a href="des/math/linear/quaterni.html">quaterni</a>
</li>
<li>
<small>des.math.linear.</small><a href="des/math/linear/ray.html">ray</a>
</li>
<li>
<small>des.math.linear.</small><a href="des/math/linear/triangle.html">triangle</a>
</li>
<li>
<small>des.math.linear.</small><a href="des/math/linear/vector.html">vector</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math.method');">
<small>des.math.</small><a href="des/math/method.html">method</a>
</span>
<ul id=des.math.method>
<li>
<span class="package" onclick="show_hide('des.math.method.approx');">
<small>des.math.method.</small><a href="des/math/method/approx.html">approx</a>
</span>
<ul id=des.math.method.approx>
<li>
<small>des.math.method.approx.</small><a href="des/math/method/approx/interp.html">interp</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math.method.calculus');">
<small>des.math.method.</small><a href="des/math/method/calculus.html">calculus</a>
</span>
<ul id=des.math.method.calculus>
<li>
<small>des.math.method.calculus.</small><a href="des/math/method/calculus/diff.html">diff</a>
</li>
<li>
<small>des.math.method.calculus.</small><a href="des/math/method/calculus/integ.html">integ</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math.method.stat');">
<small>des.math.method.</small><a href="des/math/method/stat.html">stat</a>
</span>
<ul id=des.math.method.stat>
<li>
<small>des.math.method.stat.</small><a href="des/math/method/stat/randn.html">randn</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math.util');">
<small>des.math.</small><a href="des/math/util.html">util</a>
</span>
<ul id=des.math.util>
<li>
<small>des.math.util.</small><a href="des/math/util/accessstring.html">accessstring</a>
</li>
<li>
<small>des.math.util.</small><a href="des/math/util/flatdata.html">flatdata</a>
</li>
<li>
<small>des.math.util.</small><a href="des/math/util/valuelim.html">valuelim</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.space');">
<small>des.</small><a href="des/space.html">space</a>
</span>
<ul id=des.space>
<li>
<small>des.space.</small><a href="des/space/camera.html">camera</a>
</li>
<li>
<small>des.space.</small><a href="des/space/node.html">node</a>
</li>
<li>
<small>des.space.</small><a href="des/space/resolver.html">resolver</a>
</li>
<li>
<small>des.space.</small><a href="des/space/transform.html">transform</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.util');">
<small>des.</small><a href="des/util.html">util</a>
</span>
<ul id=des.util>
<li>
<span class="package" onclick="show_hide('des.util.arch');">
<small>des.util.</small><a href="des/util/arch.html">arch</a>
</span>
<ul id=des.util.arch>
<li>
<small>des.util.arch.</small><a href="des/util/arch/base.html">base</a>
</li>
<li>
<small>des.util.arch.</small><a href="des/util/arch/emm.html">emm</a>
</li>
<li>
<small>des.util.arch.</small><a href="des/util/arch/sig.html">sig</a>
</li>
<li>
<small>des.util.arch.</small><a href="des/util/arch/slot.html">slot</a>
</li>
<li>
<small>des.util.arch.</small><a href="des/util/arch/tree.html">tree</a>
</li>
</ul>
</li>
<li>
<small>des.util.</small><a href="des/util/colorparse.html">colorparse</a>
</li>
<li>
<span class="package" onclick="show_hide('des.util.data');">
<small>des.util.</small><a href="des/util/data.html">data</a>
</span>
<ul id=des.util.data>
<li>
<small>des.util.data.</small><a href="des/util/data/attrib.html">attrib</a>
</li>
<li>
<small>des.util.data.</small><a href="des/util/data/pdata.html">pdata</a>
</li>
<li>
<small>des.util.data.</small><a href="des/util/data/type.html">type</a>
</li>
</ul>
</li>
<li>
<small>des.util.</small><a href="des/util/helpers.html">helpers</a>
</li>
<li>
<small>des.util.</small><a href="des/util/localization.html">localization</a>
</li>
<li>
<span class="package" onclick="show_hide('des.util.logsys');">
<small>des.util.</small><a href="des/util/logsys.html">logsys</a>
</span>
<ul id=des.util.logsys>
<li>
<small>des.util.logsys.</small><a href="des/util/logsys/base.html">base</a>
</li>
<li>
<small>des.util.logsys.</small><a href="des/util/logsys/logcls.html">logcls</a>
</li>
<li>
<small>des.util.logsys.</small><a href="des/util/logsys/output.html">output</a>
</li>
<li>
<small>des.util.logsys.</small><a href="des/util/logsys/rule.html">rule</a>
</li>
</ul>
</li>
<li>
<small>des.util.</small><a href="des/util/socket.html">socket</a>
</li>
<li>
<span class="package" onclick="show_hide('des.util.stdext');">
<small>des.util.</small><a href="des/util/stdext.html">stdext</a>
</span>
<ul id=des.util.stdext>
<li>
<small>des.util.stdext.</small><a href="des/util/stdext/algorithm.html">algorithm</a>
</li>
<li>
<small>des.util.stdext.</small><a href="des/util/stdext/string.html">string</a>
</li>
<li>
<small>des.util.stdext.</small><a href="des/util/stdext/traits.html">traits</a>
</li>
</ul>
</li>
<li>
<small>des.util.</small><a href="des/util/testsuite.html">testsuite</a>
</li>
<li>
<small>des.util.</small><a href="des/util/timer.html">timer</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="breadcrumbs">
<table id="results"></table>
<a class="home" href=index.html>âŒ‚</a>
<input type="search" id="search" placeholder="Search" onkeyup="searchSubmit(this.value, event)"/>
<small>des.il.<a href=des/il/image.html>image</a>.</small><span class="highlight">header</span></div>
<div class="content">
<pre><code>public @property auto header() const
</code></pre><div class="section">
<p>get header struct copy
</p>

</div>
<div class="section"><h2>Example</h2>
<pre><code>auto a = Image2( [3,3], ElemInfo( DataType.UBYTE, 3 ) );
assert( a.data.length != 0 );
assert( eq( a.size, [3,3] ) );
a.pixel!bvec3(0,0) = bvec3(1,2,3);
auto b = a;
assert( b == a );
assert( eq( b.pixel!bvec3(0,0), bvec3(1,2,3) ) );
a.pixel!bvec3(1,1) = bvec3(3,4,5);
assert( b != a );
assert( b == Image2.load( b.dump() ) );
assert( b == b.dup );
assert( b.data == b.idup.data.dup );
a = b;
assert( b == a );
assert( a == Image2.load( b.dump() ) );
assert( a == b.dup );
assert( a.data == b.idup.data.dup );
auto crd = ivec2(1,2);
b.pixel!bvec3(crd) = bvec3(5,6,8);
assert( eq( b.pixel!bvec3(1,2), bvec3(5,6,8) ) );

b.clear();
assert( eq( b.pixel!bvec3(1,2), bvec3(0,0,0) ) );
</code></pre>
</div>
<div class="section"><h2>Example</h2>
<pre><code>auto a = Image2( [3,3], ElemInfo( DataType.UBYTE, 1 ), to!(ubyte[])([ 1,2,3,4,5,6,7,8,9 ]) );
auto b = Image2(a);

assert( a.pixel!ubyte(0,0) == 1 );
assert( b.pixel!ubyte(0,0) == 1 );
a.pixel!ubyte(0,0) = 2;
assert( a.pixel!ubyte(0,0) == 2 );
assert( b.pixel!ubyte(0,0) == 1 );

auto c = immutable Image2(a);
assert( c.pixel!ubyte(0,0) == 2 );
</code></pre>
</div>
<div class="section"><h2>Example</h2>
<pre><code>auto a = Image1( [3], DataType.UBYTE, 1, to!(ubyte[])([ 1,2,3 ]) );
assert(  mustExcept!Throwable({ a.pixel!(ubyte)(7) = 0; }) );
assert( !mustExcept({ a.pixel!(ubyte)(0) = 0; }) );

assert( a.pixel!ubyte(0) == 0 );

auto b = Image2(a);

assert( b.header.size.w == 3 );
assert( b.header.size.h == 1 );

assert( b.pixel!ubyte(0,0) == 0 );
assert( b.pixel!ubyte(1,0) == 2 );
assert( mustExcept!Throwable({ b.pixel!ubyte(1,1) = 2; }) );

auto c = Image2(a,0);

assert( c.header.size.w == 1 );
assert( c.header.size.h == 3 );

assert( c.pixel!ubyte(0,0) == 0 );
assert( c.pixel!ubyte(0,1) == 2 );
assert( mustExcept!Throwable({ c.pixel!ubyte(1,1) = 2; }) );

c.size = ivec2(2,2);

assert( c.size.w == 2 );
assert( c.size.h == 2 );
</code></pre>
</div>
<div class="section"><h2>Example</h2>
<pre><code>auto a = Image2( [3,3], ElemInfo( DataType.FLOAT, 2 ) );

assert( a.index(1,2) == 7 );
assert( a.index(ivec2(1,2)) == 7 );

a.mapAs!(vec2)[a.index(1,2)] = vec2(1,1);
assert( a.pixel!vec2(1,2) == vec2(1,1) );

a.pixel!vec2(1,2) = vec2(2,2);
assert( a.pixel!vec2(1,2) == vec2(2,2) );
</code></pre>
</div>
<div class="section"><h2>Example</h2>
<pre><code>Image2 img;
assert( img.data.length == 0 );
assert( img.data is null );
assert( img.size == SizeVector!2(0,0) );

img.size = ivec2(3,3);
img.info = ElemInfo( DataType.NORM_FIXED, 3 );
img.clear();

assert( img.data.length == 27 * float.sizeof );
assert( img.info.bpe == 3 * float.sizeof );

img.pixel!col3(0,1) = col3( .2,.1,.3 );
assert( img.pixel!vec3(0,1) == vec3(.2,.1,.3) );

auto di = Image2.load( img.dump() );
assert( di.size == img.size );
assert( di.info == img.info );
assert( di.data == img.data );

auto ii = immutable(Image2)( img );
assert( ii.size == img.size );
assert( ii.info == img.info );
assert( ii.data == img.data );

assert( ii.pixel!vec3(0,1) == vec3(.2,.1,.3) );

auto dii = immutable(Image2).load( ii.dump() );
static assert( is( typeof(dii) == Image2 ) );
assert( dii.size == img.size );
assert( dii.info == img.info );
assert( dii.data == img.data );

auto dd = ii.dup;
static assert( is( typeof(dd) == Image2 ) );
assert( dd.size == img.size );
assert( dd.info == img.info );
assert( dd.data == img.data );

auto ddi = ii.idup;
static assert( is( typeof(ddi) == immutable(Image2) ) );
assert( ddi.size == img.size );
assert( ddi.info == img.info );
assert( ddi.data == img.data );
</code></pre>
</div>
<div class="section"><h2>Example</h2>
<pre><code>auto data = 
[
    vec2( 1, 2 ), vec2( 3, 4 ), vec2( 5, 6 ),
    vec2( 7, 8 ), vec2( 9, 1 ), vec2( 1, 2 ),
    vec2( 2, 3 ), vec2( 4, 5 ), vec2( 6, 7 )
];

auto img = Image2( ivec2(3,3), DataType.FLOAT, 2, data );

assert( img.size == ivec2(3,3) );
assert( img.info.bpe == 2 * float.sizeof );

assert( img.pixel!vec2(1,1) == vec2(9,1) );
assert( img.info.comp == DataType.FLOAT );

auto imdata = img.mapAs!vec2;
assert( data == imdata );

img.clear();
assert( img.pixel!vec2(1,1) == vec2(0,0) );

img.mapAs!(vec2)[] = data[];
imdata = img.mapAs!vec2;
assert( data == imdata );

auto constdata = img.idup.mapAs!vec2;
assert( constdata == imdata );
assert( is( typeof(constdata) == const(vec2)[] ) );
</code></pre>
</div>
<div class="section"><h2>Example</h2>
<pre><code>assert( mustExcept({ Image2( [3,3], ElemInfo( DataType.UBYTE, 3 ), [ 1, 2, 3 ] ); }) );

auto dt = [ vec2(1,0), vec2(0,1) ];
assert( mustExcept({ Image2( ivec2(3,3), DataType.FLOAT, 2, dt ); }) );

auto img = Image2( ivec2(3,3), ElemInfo( DataType.NORM_FIXED, 3 ) );
assert( mustExcept({ auto d = img.mapAs!vec2; }) );

assert( !mustExcept({ img.pixel!col3(1,0) = col3(1,1,1); }) );
assert(  mustExcept({ img.pixel!vec2(1,0) = vec2(1,1); }) );
static assert(  !__traits(compiles, { img.pixel!vec3(4,4) = vec3(1,1); }) );
</code></pre>
</div>

<script>hljs.initHighlightingOnLoad();</script>
</div>
</div>
</body>
</html>
