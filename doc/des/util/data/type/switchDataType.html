<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<link rel="stylesheet" type="text/css" href="../../../../style.css"/><script src="../../../../highlight.pack.js"></script>
<title>switchDataType</title>
<base href="../../../../"/>
<script src="search.js"></script>
<script src="show_hide.js"></script>
</head>
<body>
<div class="main">
<div class="toc">
<ul>
<li>
<span class="package" onclick="show_hide('des');">
des
</span>
<ul id=des style='display:block;'>
<li>
<span class="package" onclick="show_hide('des.flow');">
<small>des.</small><a href="des/flow.html">flow</a>
</span>
<ul id=des.flow>
<li>
<small>des.flow.</small><a href="des/flow/base.html">base</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/element.html">element</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/event.html">event</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/signal.html">signal</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/sync.html">sync</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/sysevdata.html">sysevdata</a>
</li>
<li>
<small>des.flow.</small><a href="des/flow/thread.html">thread</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.il');">
<small>des.</small><a href="des/il.html">il</a>
</span>
<ul id=des.il>
<li>
<small>des.il.</small><a href="des/il/image.html">image</a>
</li>
<li>
<small>des.il.</small><a href="des/il/region.html">region</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.isys');">
des.isys
</span>
<ul id=des.isys>
<li>
<span class="package" onclick="show_hide('des.isys.neiro');">
<small>des.isys.</small><a href="des/isys/neiro.html">neiro</a>
</span>
<ul id=des.isys.neiro>
<li>
<small>des.isys.neiro.</small><a href="des/isys/neiro/func.html">func</a>
</li>
<li>
<span class="package" onclick="show_hide('des.isys.neiro.layer');">
<small>des.isys.neiro.</small><a href="des/isys/neiro/layer.html">layer</a>
</span>
<ul id=des.isys.neiro.layer>
<li>
<small>des.isys.neiro.layer.</small><a href="des/isys/neiro/layer/neiron.html">neiron</a>
</li>
<li>
<small>des.isys.neiro.layer.</small><a href="des/isys/neiro/layer/net.html">net</a>
</li>
<li>
<small>des.isys.neiro.layer.</small><a href="des/isys/neiro/layer/rand.html">rand</a>
</li>
<li>
<small>des.isys.neiro.layer.</small><a href="des/isys/neiro/layer/structure.html">structure</a>
</li>
</ul>
</li>
<li>
<small>des.isys.neiro.</small><a href="des/isys/neiro/neiron.html">neiron</a>
</li>
<li>
<small>des.isys.neiro.</small><a href="des/isys/neiro/traits.html">traits</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math');">
<small>des.</small><a href="des/math.html">math</a>
</span>
<ul id=des.math>
<li>
<span class="package" onclick="show_hide('des.math.basic');">
<small>des.math.</small><a href="des/math/basic.html">basic</a>
</span>
<ul id=des.math.basic>
<li>
<small>des.math.basic.</small><a href="des/math/basic/mathstruct.html">mathstruct</a>
</li>
<li>
<small>des.math.basic.</small><a href="des/math/basic/traits.html">traits</a>
</li>
</ul>
</li>
<li>
<small>des.math.</small><a href="des/math/combin.html">combin</a>
</li>
<li>
<span class="package" onclick="show_hide('des.math.linear');">
<small>des.math.</small><a href="des/math/linear.html">linear</a>
</span>
<ul id=des.math.linear>
<li>
<small>des.math.linear.</small><a href="des/math/linear/matrix.html">matrix</a>
</li>
<li>
<small>des.math.linear.</small><a href="des/math/linear/quaterni.html">quaterni</a>
</li>
<li>
<small>des.math.linear.</small><a href="des/math/linear/ray.html">ray</a>
</li>
<li>
<small>des.math.linear.</small><a href="des/math/linear/triangle.html">triangle</a>
</li>
<li>
<small>des.math.linear.</small><a href="des/math/linear/vector.html">vector</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math.method');">
<small>des.math.</small><a href="des/math/method.html">method</a>
</span>
<ul id=des.math.method>
<li>
<span class="package" onclick="show_hide('des.math.method.approx');">
<small>des.math.method.</small><a href="des/math/method/approx.html">approx</a>
</span>
<ul id=des.math.method.approx>
<li>
<small>des.math.method.approx.</small><a href="des/math/method/approx/interp.html">interp</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math.method.calculus');">
<small>des.math.method.</small><a href="des/math/method/calculus.html">calculus</a>
</span>
<ul id=des.math.method.calculus>
<li>
<small>des.math.method.calculus.</small><a href="des/math/method/calculus/diff.html">diff</a>
</li>
<li>
<small>des.math.method.calculus.</small><a href="des/math/method/calculus/integ.html">integ</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math.method.stat');">
<small>des.math.method.</small><a href="des/math/method/stat.html">stat</a>
</span>
<ul id=des.math.method.stat>
<li>
<small>des.math.method.stat.</small><a href="des/math/method/stat/randn.html">randn</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.math.util');">
<small>des.math.</small><a href="des/math/util.html">util</a>
</span>
<ul id=des.math.util>
<li>
<small>des.math.util.</small><a href="des/math/util/accessstring.html">accessstring</a>
</li>
<li>
<small>des.math.util.</small><a href="des/math/util/flatdata.html">flatdata</a>
</li>
<li>
<small>des.math.util.</small><a href="des/math/util/valuelim.html">valuelim</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.space');">
<small>des.</small><a href="des/space.html">space</a>
</span>
<ul id=des.space>
<li>
<small>des.space.</small><a href="des/space/camera.html">camera</a>
</li>
<li>
<small>des.space.</small><a href="des/space/node.html">node</a>
</li>
<li>
<small>des.space.</small><a href="des/space/resolver.html">resolver</a>
</li>
<li>
<small>des.space.</small><a href="des/space/transform.html">transform</a>
</li>
</ul>
</li>
<li>
<span class="package" onclick="show_hide('des.util');">
<small>des.</small><a href="des/util.html">util</a>
</span>
<ul id=des.util style='display:block;'>
<li>
<span class="package" onclick="show_hide('des.util.arch');">
<small>des.util.</small><a href="des/util/arch.html">arch</a>
</span>
<ul id=des.util.arch>
<li>
<small>des.util.arch.</small><a href="des/util/arch/base.html">base</a>
</li>
<li>
<small>des.util.arch.</small><a href="des/util/arch/emm.html">emm</a>
</li>
<li>
<small>des.util.arch.</small><a href="des/util/arch/sig.html">sig</a>
</li>
<li>
<small>des.util.arch.</small><a href="des/util/arch/slot.html">slot</a>
</li>
<li>
<small>des.util.arch.</small><a href="des/util/arch/tree.html">tree</a>
</li>
</ul>
</li>
<li>
<small>des.util.</small><a href="des/util/colorparse.html">colorparse</a>
</li>
<li>
<span class="package" onclick="show_hide('des.util.data');">
<small>des.util.</small><a href="des/util/data.html">data</a>
</span>
<ul id=des.util.data style='display:block;'>
<li>
<small>des.util.data.</small><a href="des/util/data/attrib.html">attrib</a>
</li>
<li>
<small>des.util.data.</small><a href="des/util/data/pdata.html">pdata</a>
</li>
<li>
<span class="selected" onclick="show_hide('des.util.data.type');">
<small>des.util.data.</small><a href="des/util/data/type.html">type</a>
</li>
</ul>
</li>
<li>
<small>des.util.</small><a href="des/util/helpers.html">helpers</a>
</li>
<li>
<small>des.util.</small><a href="des/util/localization.html">localization</a>
</li>
<li>
<span class="package" onclick="show_hide('des.util.logsys');">
<small>des.util.</small><a href="des/util/logsys.html">logsys</a>
</span>
<ul id=des.util.logsys>
<li>
<small>des.util.logsys.</small><a href="des/util/logsys/base.html">base</a>
</li>
<li>
<small>des.util.logsys.</small><a href="des/util/logsys/logcls.html">logcls</a>
</li>
<li>
<small>des.util.logsys.</small><a href="des/util/logsys/output.html">output</a>
</li>
<li>
<small>des.util.logsys.</small><a href="des/util/logsys/rule.html">rule</a>
</li>
</ul>
</li>
<li>
<small>des.util.</small><a href="des/util/socket.html">socket</a>
</li>
<li>
<span class="package" onclick="show_hide('des.util.stdext');">
<small>des.util.</small><a href="des/util/stdext.html">stdext</a>
</span>
<ul id=des.util.stdext>
<li>
<small>des.util.stdext.</small><a href="des/util/stdext/algorithm.html">algorithm</a>
</li>
<li>
<small>des.util.stdext.</small><a href="des/util/stdext/string.html">string</a>
</li>
<li>
<small>des.util.stdext.</small><a href="des/util/stdext/traits.html">traits</a>
</li>
</ul>
</li>
<li>
<small>des.util.</small><a href="des/util/testsuite.html">testsuite</a>
</li>
<li>
<small>des.util.</small><a href="des/util/timer.html">timer</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="breadcrumbs">
<table id="results"></table>
<a class="home" href=index.html>âŒ‚</a>
<input type="search" id="search" placeholder="Search" onkeyup="searchSubmit(this.value, event)"/>
<small>des.util.data.<a href=des/util/data/type.html>type</a>.</small><span class="highlight">switchDataType</span></div>
<div class="content">
<pre><code>public string switchDataType(
    string subj, 
    string fmt, 
    string[string] except) pure
</code></pre><div class="section">
<p>generate switch for all DataType elements
</p>

</div>
<div class="section">
<h2>Parameters</h2>
<table class="params">
<tr class="param"><td class="paramName">subj</td><td class="paramDoc"><p>past as <code class="prettyprint">switch( subj )</code>
</p>
</td></tr>
<tr class="param"><td class="paramName">fmt</td><td class="paramDoc"><p>body of all cases
</p>
</td></tr>
<tr class="param"><td class="paramName">except</td><td class="paramDoc"><p>exception in selected cases
</p>
</td></tr>
</table></div>
<div class="section">
<h2>Example</h2>
<pre class="prettyprint"><code>void utDataAssign(T...)( in ElemInfo info, void* buffer, T vals ) pure
    if( is(typeof(flatData!real(vals))) )
in
{
    assert( buffer !is null );
    assert( info.channels == flatData!real(vals).length );
}
body
{
    enum fmt = q{
        auto dst = getTypedArray!(storeDataType!(%1$s))( info.channels, buffer );
        auto src = flatData!real(vals);
        foreach( i, ref t; dst )
            t = convertValue!(%1$s)( src[i] );
    };
    mixin( switchDataType( "info.comp", fmt, ["RAWBYTE": "can't operate RAWBYTE"] ) );
}
</code></pre>
</div>
<div class="section">
<h2>Output</h2>
<pre class="prettyprint"><code>`
final switch( info.comp ) {
case DataType.RAWBYTE: throw new DataTypeException( "can't operate RAWBYTE" );
case DataType.BYTE: 
</code></pre><pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.BYTE))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.BYTE)( src[i] );
</code></pre><p>break;
case DataType.UBYTE: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.UBYTE))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.UBYTE)( src[i] );
</code></pre><p>break;
case DataType.NORM_QUART: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.NORM_QUART))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.NORM_QUART)( src[i] );
</code></pre><p>break;
case DataType.UNORM_QUART: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.UNORM_QUART))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.UNORM_QUART)( src[i] );
</code></pre><p>break;
case DataType.SHORT: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.SHORT))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.SHORT)( src[i] );
</code></pre><p>break;
case DataType.USHORT: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.USHORT))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.USHORT)( src[i] );
</code></pre><p>break;
case DataType.NORM_HALF: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.NORM_HALF))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.NORM_HALF)( src[i] );
</code></pre><p>break;
case DataType.UNORM_HALF: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.UNORM_HALF))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.UNORM_HALF)( src[i] );
</code></pre><p>break;
case DataType.INT: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.INT))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.INT)( src[i] );
</code></pre><p>break;
case DataType.UINT: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.UINT))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.UINT)( src[i] );
</code></pre><p>break;
case DataType.NORM_FIXED: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.NORM_FIXED))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.NORM_FIXED)( src[i] );
</code></pre><p>break;
case DataType.UNORM_FIXED: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.UNORM_FIXED))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.UNORM_FIXED)( src[i] );
</code></pre><p>break;
case DataType.LONG: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.LONG))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.LONG)( src[i] );
</code></pre><p>break;
case DataType.ULONG: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.ULONG))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.ULONG)( src[i] );
</code></pre><p>break;
case DataType.NORM_DOUBLE: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.NORM_DOUBLE))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.NORM_DOUBLE)( src[i] );
</code></pre><p>break;
case DataType.UNORM_DOUBLE: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.UNORM_DOUBLE))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.UNORM_DOUBLE)( src[i] );
</code></pre><p>break;
case DataType.FLOAT: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.FLOAT))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.FLOAT)( src[i] );
</code></pre><p>break;
case DataType.DOUBLE: 
</p>
<pre class="prettyprint"><code>auto dst = getTypedArray!(storeDataType!(DataType.DOUBLE))( info.channels, buffer );
auto src = flatData!real(vals);
foreach( i, ref t; dst )
    t = convertValue!(DataType.DOUBLE)( src[i] );
</code></pre><p>break;
}
`
</p>

</div>

<script>hljs.initHighlightingOnLoad();</script>
</div>
</div>
</body>
</html>
